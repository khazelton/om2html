<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The om2 api &mdash; OM2 v1.1.0 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.1.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="OM2 v1.1.0 documentation" href="../index.html" />
    <link rel="up" title="API documentation!" href="index.html" />
    <link rel="next" title="Backend - a server backend" href="backend.html" />
    <link rel="prev" title="API documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="backend.html" title="Backend - a server backend"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="API documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">OM2 v1.1.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">API documentation!</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-om2api">
<span id="api-om2api"></span><h1>The om2 api<a class="headerlink" href="#module-om2api" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">mod:</th><td class="field-body">&#8216;om2api&#8217; &#8211; om2api</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Roland Hedberg</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">1.1</td>
</tr>
</tbody>
</table>
<div class="section" id="module-om2api_2">
<h2>Module<a class="headerlink" href="#module-om2api_2" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="om2api_2.OM2">
<em class="property">
class </em><tt class="descclassname">om2api_2.</tt><tt class="descname">OM2</tt><big>(</big><em>neorepo=None</em>, <em>nexthop=None</em>, <em>dnssrv=None</em>, <em>ontology=</em><span class="optional">[</span><span class="optional">]</span>, <em>ontpath=</em><span class="optional">[</span><span class="optional">]</span>, <em>sender='someone&#64;example.com'</em>, <em>receiver=</em><span class="optional">[</span><span class="optional">]</span>, <em>key_file=None</em>, <em>cert_file=None</em>, <em>debug=0</em>, <em>verbose=False</em>, <em>log=None</em><big>)</big><a class="headerlink" href="#om2api_2.OM2" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>An implementation of a om2 api, something that to an application</dt>
<dd>provides something that might look like a database but which in fact
is a interface to a OM2 system.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>neorepo</em> &#8211; where the NeoRepo can be found</li>
<li><em>nexthop</em> &#8211; which node in the OM2 cloud to send messages to</li>
<li><em>dnssrv</em> &#8211; which DNS server to use to find the receiver in the 
OM2 cloud.</li>
<li><em>ontology</em> &#8211; which ontologies to use for constructing or parsing</li>
<li><em>ontpath</em> &#8211; where the ontologies can be found if not in the
normal places</li>
<li><em>sender</em> &#8211; Who to send as</li>
<li><em>receiver</em> &#8211; Default receivers of the messages</li>
<li><em>key_file</em> &#8211; If https this is the key to us</li>
<li><em>cert_file</em> &#8211; Certificates to validate the other side</li>
<li><em>debug</em> &#8211; To turn on debugging</li>
<li><em>verbose</em> &#8211; Make some more verbose logging</li>
<li><em>log</em> &#8211; Logger to use</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="om2api_2.OM2.add">
<tt class="descname">add</tt><big>(</big><em>objekt</em>, <em>args={}</em><big>)</big><a class="headerlink" href="#om2api_2.OM2.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends an add operation to the &#8216;cloud&#8217; represented by &#8216;nexthop&#8217;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameter:</th><td class="field-body"><em>object</em> (<tt class="xref docutils literal"><span class="pre">Base()</span></tt>) &#8211; The object to be added to the neorepo</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">True/False</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="om2api_2.OM2.apply">
<tt class="descname">apply</tt><big>(</big><em>rdf</em>, <em>block_until_handled=True</em><big>)</big><a class="headerlink" href="#om2api_2.OM2.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the operations in the RDF XML graph to the &#8216;cloud&#8217;,
that is sends it to &#8216;nexthop&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>rdf</em> &#8211; The RDF graph as a rdfmashal.instance.Base instance</li>
<li><em>block_until_handled</em> &#8211; Whether the operations should be done 
synchronous or asynchronous.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True/False</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="om2api_2.OM2.delete">
<tt class="descname">delete</tt><big>(</big><em>uriref</em>, <em>args={}</em><big>)</big><a class="headerlink" href="#om2api_2.OM2.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a delete operation to the node &#8216;nexthop&#8217;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameter:</th><td class="field-body"><em>object</em> &#8211; The UIRRef of the object</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">True/False</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="om2api_2.OM2.insert">
<tt class="descname">insert</tt><big>(</big><em>obj</em>, <em>create=False</em>, <em>args={}</em><big>)</big><a class="headerlink" href="#om2api_2.OM2.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a insert operation to &#8216;nexthop&#8217; that will
modify the the object in questions to include the given information
Will call <tt class="xref docutils literal"><span class="pre">apply()</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>obj</em> &#8211; The object containing the changes</li>
<li><em>create</em> &#8211; If the object does not exist, try to create it</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True/False</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="om2api_2.OM2.read">
<tt class="descname">read</tt><big>(</big><em>uri</em><big>)</big><a class="headerlink" href="#om2api_2.OM2.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an object from the neorepo.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameter:</th><td class="field-body"><em>uri</em> &#8211; The NeoRepo URI of the object that is wanted</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">The Object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="om2api_2.OM2.remove">
<tt class="descname">remove</tt><big>(</big><em>object</em>, <em>debug=0</em><big>)</big><a class="headerlink" href="#om2api_2.OM2.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a part of an object. A remove operation is always a M 
operation in MIRO parlance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameter:</th><td class="field-body"><em>object</em> &#8211; The objectpart that should be removed</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">True/False</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="om2api_2.OM2.replace">
<tt class="descname">replace</tt><big>(</big><em>match</em>, <em>replace</em><big>)</big><a class="headerlink" href="#om2api_2.OM2.replace" title="Permalink to this definition">¶</a></dt>
<dd><p>An replace information operation is always a MR operation in MIRO 
parlance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>match</em> &#8211; The part of the object I want to replace</li>
<li><em>replace</em> &#8211; The part it should be replaced with</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True/False</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="om2api_2.OM2.search">
<tt class="descname">search</tt><big>(</big><em>object_type=None</em>, <em>filt={}</em>, <em>select=</em><span class="optional">[</span><span class="optional">]</span>, <em>sparql_query=''</em>, <em>amap={}</em>, <em>optional=</em><span class="optional">[</span><span class="optional">]</span>, <em>regex=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#om2api_2.OM2.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for objects matching the criterias in the neorepo.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>object_type</em> &#8211; The type of object to look for</li>
<li><em>filt</em> &#8211; A dictionary of properties and values to be used 
to construct the SPARQL query. The FILTER !</li>
<li><em>select</em> &#8211; Which properties that should be returned, if &#8220;about&#8221;
which is the default only the urirefs will be returned.</li>
<li><em>sparql</em> &#8211; This is the alternative to building the sparql query from
the above mentioned dictionary. Build your own query and supply it.</li>
<li><em>optional</em> &#8211; A set of properties that you&#8217;d like to have the 
values for if there are any.</li>
<li><em>regex</em> &#8211; When you expect this program to build the sparql query for
you and you want to do approximate matching of some property, you have
to say so by using this argument. regex is a list of 3-tuples containing
property, regular expression and matching argument (see SPARQL doc).</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of URLs of the objects matching the query</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="om2api_2.fullname_from_ontology">
<tt class="descclassname">om2api_2.</tt><tt class="descname">fullname_from_ontology</tt><big>(</big><em>ontology</em>, <em>ref</em><big>)</big><a class="headerlink" href="#om2api_2.fullname_from_ontology" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the full name for property or list of properties given
that they belong to a specific ontology.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>ontology</em> &#8211; The python ontology module</li>
<li><em>ref</em> &#8211; A property name or a list of property names</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The full name for the given property/properties.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="om2api_2.unfurl">
<tt class="descclassname">om2api_2.</tt><tt class="descname">unfurl</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#om2api_2.unfurl" title="Permalink to this definition">¶</a></dt>
<dd><p>Will from a object instance pick out some sailient facts</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameter:</th><td class="field-body"><em>obj</em> &#8211; The object instance</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">A tuple containing the type of the object, its identifier and
the properties and their values</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">The om2 api</a><ul>
<li><a class="reference external" href="#module-om2api_2">Module</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="index.html"
                                  title="previous chapter">API documentation!</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="backend.html"
                                  title="next chapter">Backend - a server backend</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/om2api.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="backend.html" title="Backend - a server backend"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="API documentation!"
             >previous</a> |</li>
        <li><a href="../index.html">OM2 v1.1.0 documentation</a> &raquo;</li>
          <li><a href="index.html" >API documentation!</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009, Roland Hedberg.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.2.
    </div>
  </body>
</html>